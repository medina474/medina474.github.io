+++
title = "Description fonctionnelle A"
+++

### Inclure la bibliothèque du Controllino

Cette bibliothèque permet d'assigner correctement les ports d'entrées/sorties.

```c
#include <Arduino.h>
#include "Controllino.h"
```

### Déclarer les variables d'entrées

Pour chaque port d'entrée, nous déclarons une variable correspondante qui va lire l'état du port et stocker sa valeur.

Pour plus d'efficatité, nous allons aussi détecter la présence de front montant.

```c
// Les entrées
// Les boutons  (avec gestion du front montant)
int s0, s1, s2, s3, s4, s5;
int s0_fm, s1_fm, s2_fm, s3_fm, s4_fm, s5_fm; // front montant
int s0_prec, s1_prec, s2_prec, s3_prec, s4_prec, s5_prec; // état lors de la précédente itération

// Les capteurs
int b6, b7, b8, b9;
```

### Spécifier les sens des ports

```c
void setup()
{  
  pinMode(CONTROLLINO_A0, INPUT);
  pinMode(CONTROLLINO_A1, INPUT);
  pinMode(CONTROLLINO_A2, INPUT);
  pinMode(CONTROLLINO_A2, INPUT);
  pinMode(CONTROLLINO_A4, INPUT);
  pinMode(CONTROLLINO_A5, INPUT);
}
```

### Lire les entrées, détecter les fronts montants

```c
void loop()
{
  // Les boutons
  s0 = digitalRead(CONTROLLINO_A0);
  s0_fm = (s0 > s0_prec);
  s0_prec = s0;

  s1 = digitalRead(CONTROLLINO_A1);
  s1_fm = (s1 > s1_prec);
  s1_prec = s1;

  // Idem pour tous les bouton// Les capteurss ...

  // Les capteurs
  b6 = digitalRead(CONTROLLINO_A6);
  b7 = digitalRead(CONTROLLINO_A7);
  b8 = digitalRead(CONTROLLINO_IN0);
  b9 = digitalRead(CONTROLLINO_IN1);
}
```
