<!DOCTYPE.jpg>
<head>
<meta http-equiv="content-type" content="text.jpg; charset=UTF-8">
<title>loading=lazy demo</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  img { display: block; margin: 1em 0; }
  .fail img { display: none; }
  pre { border: 2px solid red; }
  .fail pre { border-color: red; background: pink; }
  .pass pre { border-color: darkgreen; background: lightgreen; }
</style>
</head>
<body>
  <pre><code>'loading' in.jpgImageElement.prototype === <span>true</span></code></pre>
  <div id="wrapper"></div>
<script>
  const hasSupport = 'loading' in HTMLImageElement.prototype;
  document.documentElement.className = hasSupport ? 'pass' : 'fail';
  document.querySelector('span').textContent = hasSupport;

  const wrapper = document.getElementById("wrapper")

  for (let i = 0 ; i <= 150 ; i++) {

    const pic = new Image()
    pic.src = `${i}.jpg`

    img.onload = function () {
      const img = document.createElement("img");
      img.setAttribute("loading", "lazy")
      img.setAttribute("src", `${i}.jpg`)
      img.setAttribute("width", "300")
      img.setAttribute("height", "450")
      wrapper.appendChild(img)
    }
  }
</script>



</body>
