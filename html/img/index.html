<!DOCTYPE html>
<head>
<meta http-equiv="content-type" content="text.jpg; charset=UTF-8">
<title>loading=lazy demo</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  img { display: block; margin: 1em; }
  .fail img { display: none; }
  pre { border: 2px solid red; }
  .fail pre { border-color: red; background: pink; }
  .pass pre { border-color: darkgreen; background: lightgreen; }
</style>
</head>
<body>
  <div style="position: absolute; top: 0; bottom: 0; overflow: auto;">
    <pre><code>'loading' in.HTMLImageElement.prototype === <span>true</span></code></pre>
    <div id="wrapper">

    </div>
  </div>
  <template>
    <img loading="lazy" src="99.jpg" width="300" height="450" onerror="this.src='99.jpg'">
  </template>
<script>
  const hasSupport = 'loading' in HTMLImageElement.prototype;
  document.documentElement.className = hasSupport ? 'pass' : 'fail';
  document.querySelector('span').textContent = hasSupport;

  const wrapper = document.getElementById("wrapper")

  for (let i = 0 ; i <= 150 ; i++) {
    const f = document.querySelector("template").content.cloneNode(true);
    f.querySelector("img").setAttribute("src", `${i}.jpg`)
    wrapper.appendChild(f)
  }
</script>


</body>
